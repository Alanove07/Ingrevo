<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile - Ingrevo</title>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="app-style.css">
    <link rel="stylesheet" href="enhanced-style.css">
    <link rel="stylesheet" href="profile-enhanced.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <i class="fas fa-leaf"></i>
                <span>Ingrevo</span>
            </div>
            
            <ul class="nav-links">
                <li><a href="home.html">Home</a></li>
                <li><a href="scan.html">Scan</a></li>
                <li><a href="profile.html" class="active">Profile</a></li>
                <li><a href="recommendations.html">Recommendations</a></li>
                <li><a href="about.html">About</a></li>
            </ul>

            <div class="nav-actions">
                <button class="btn-icon" id="theme-toggle">
                    <i class="fas fa-moon"></i>
                </button>
                <button class="btn-secondary" id="login-btn">
                    <i class="fas fa-user"></i>
                    Login
                </button>
            </div>

            <button class="mobile-menu-toggle" id="mobile-toggle">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="profile-page">
        <div class="container">
            <!-- Profile Header -->
            <div class="profile-header">
                <div class="profile-avatar">
                    <img src="https://ui-avatars.com/api/?name=John+Doe&background=14B8A6&color=fff&size=120" alt="Profile">
                    <button class="avatar-edit">
                        <i class="fas fa-camera"></i>
                    </button>
                </div>
                <div class="profile-info">
                    <h1>John Doe</h1>
                    <p>john.doe@example.com</p>
                    <div class="profile-stats">
                        <div class="stat">
                            <strong>156</strong>
                            <span>Scans</span>
                        </div>
                        <div class="stat">
                            <strong>42</strong>
                            <span>Saved</span>
                        </div>
                        <div class="stat">
                            <strong>3</strong>
                            <span>Allergens</span>
                        </div>
                    </div>
                </div>
                <button class="btn-outline">
                    <i class="fas fa-edit"></i>
                    Edit Profile
                </button>
            </div>

            <div class="profile-content">
                <!-- Sidebar -->
                <aside class="profile-sidebar">
                    <nav class="profile-nav">
                        <button class="profile-nav-item active" data-section="preferences">
                            <i class="fas fa-sliders-h"></i>
                            Dietary Preferences
                        </button>
                        <button class="profile-nav-item" data-section="allergens">
                            <i class="fas fa-exclamation-triangle"></i>
                            My Allergens
                        </button>
                        <button class="profile-nav-item" data-section="history">
                            <i class="fas fa-history"></i>
                            Scan History
                        </button>
                        <button class="profile-nav-item" data-section="saved">
                            <i class="fas fa-bookmark"></i>
                            Saved Products
                        </button>
                        <button class="profile-nav-item" data-section="settings">
                            <i class="fas fa-cog"></i>
                            Settings
                        </button>
                    </nav>
                </aside>

                <!-- Main Section -->
                <div class="profile-main">
                    <!-- Dietary Preferences Section -->
                    <section class="profile-section active" id="preferences-section">
                        <h2>Dietary Preferences</h2>
                        <p>Select your dietary lifestyle and preferences</p>

                        <div class="preferences-grid">
                            <label class="preference-card">
                                <input type="checkbox" name="diet" value="vegan">
                                <div class="card-content">
                                    <i class="fas fa-seedling"></i>
                                    <h3>Vegan</h3>
                                    <p>Plant-based only</p>
                                </div>
                                <div class="card-check">
                                    <i class="fas fa-check"></i>
                                </div>
                            </label>

                            <label class="preference-card">
                                <input type="checkbox" name="diet" value="vegetarian">
                                <div class="card-content">
                                    <i class="fas fa-carrot"></i>
                                    <h3>Vegetarian</h3>
                                    <p>No meat products</p>
                                </div>
                                <div class="card-check">
                                    <i class="fas fa-check"></i>
                                </div>
                            </label>

                            <label class="preference-card">
                                <input type="checkbox" name="diet" value="gluten-free">
                                <div class="card-content">
                                    <i class="fas fa-bread-slice"></i>
                                    <h3>Gluten-Free</h3>
                                    <p>No gluten</p>
                                </div>
                                <div class="card-check">
                                    <i class="fas fa-check"></i>
                                </div>
                            </label>

                            <label class="preference-card">
                                <input type="checkbox" name="diet" value="lactose-free">
                                <div class="card-content">
                                    <i class="fas fa-cheese"></i>
                                    <h3>Lactose-Free</h3>
                                    <p>No dairy</p>
                                </div>
                                <div class="card-check">
                                    <i class="fas fa-check"></i>
                                </div>
                            </label>

                            <label class="preference-card">
                                <input type="checkbox" name="diet" value="kosher">
                                <div class="card-content">
                                    <i class="fas fa-star-of-david"></i>
                                    <h3>Kosher</h3>
                                    <p>Certified kosher</p>
                                </div>
                                <div class="card-check">
                                    <i class="fas fa-check"></i>
                                </div>
                            </label>

                            <label class="preference-card">
                                <input type="checkbox" name="diet" value="halal">
                                <div class="card-content">
                                    <i class="fas fa-moon"></i>
                                    <h3>Halal</h3>
                                    <p>Certified halal</p>
                                </div>
                                <div class="card-check">
                                    <i class="fas fa-check"></i>
                                </div>
                            </label>
                        </div>

                        <button class="btn-primary">
                            <i class="fas fa-save"></i>
                            Save Preferences
                        </button>
                    </section>

                    <!-- Allergens Section -->
                    <section class="profile-section" id="allergens-section">
                        <h2>My Allergens</h2>
                        <p>Mark allergens you're sensitive to for personalized alerts</p>

                        <div class="allergen-selector">
                            <div class="allergen-item" data-allergen="peanuts">
                                <div class="allergen-icon" style="background: #F59E0B20; color: #F59E0B;">
                                    <i class="fas fa-peanut"></i>
                                </div>
                                <div class="allergen-info">
                                    <h4>Peanuts</h4>
                                    <span class="severity high">High Risk</span>
                                </div>
                                <label class="toggle">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                            </div>

                            <div class="allergen-item" data-allergen="gluten">
                                <div class="allergen-icon" style="background: #EF444420; color: #EF4444;">
                                    <i class="fas fa-bread-slice"></i>
                                </div>
                                <div class="allergen-info">
                                    <h4>Gluten</h4>
                                    <span class="severity high">High Risk</span>
                                </div>
                                <label class="toggle">
                                    <input type="checkbox" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>

                            <div class="allergen-item" data-allergen="lactose">
                                <div class="allergen-icon" style="background: #3B82F620; color: #3B82F6;">
                                    <i class="fas fa-cheese"></i>
                                </div>
                                <div class="allergen-info">
                                    <h4>Lactose</h4>
                                    <span class="severity medium">Medium Risk</span>
                                </div>
                                <label class="toggle">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                            </div>

                            <div class="allergen-item" data-allergen="soy">
                                <div class="allergen-icon" style="background: #10B98120; color: #10B981;">
                                    <i class="fas fa-seedling"></i>
                                </div>
                                <div class="allergen-info">
                                    <h4>Soy</h4>
                                    <span class="severity low">Low Risk</span>
                                </div>
                                <label class="toggle">
                                    <input type="checkbox" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>

                            <div class="allergen-item" data-allergen="shellfish">
                                <div class="allergen-icon" style="background: #8B5CF620; color: #8B5CF6;">
                                    <i class="fas fa-fish"></i>
                                </div>
                                <div class="allergen-info">
                                    <h4>Shellfish</h4>
                                    <span class="severity high">High Risk</span>
                                </div>
                                <label class="toggle">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                            </div>

                            <div class="allergen-item" data-allergen="eggs">
                                <div class="allergen-icon" style="background: #F9731620; color: #F97316;">
                                    <i class="fas fa-egg"></i>
                                </div>
                                <div class="allergen-info">
                                    <h4>Eggs</h4>
                                    <span class="severity medium">Medium Risk</span>
                                </div>
                                <label class="toggle">
                                    <input type="checkbox" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>

                        <button class="btn-primary">
                            <i class="fas fa-save"></i>
                            Save Allergen Settings
                        </button>
                    </section>

                    <!-- Scan History Section -->
                    <section class="profile-section" id="history-section">
                        <div class="section-header-with-actions">
                            <div>
                                <h2>Scan History</h2>
                                <p>View all your previously scanned products</p>
                            </div>
                            <button class="btn-outline">
                                <i class="fas fa-download"></i>
                                Export History
                            </button>
                        </div>

                        <div class="history-filters">
                            <input type="text" placeholder="Search history..." class="search-input">
                            <select class="filter-select">
                                <option>All Time</option>
                                <option>This Week</option>
                                <option>This Month</option>
                                <option>This Year</option>
                            </select>
                        </div>

                        <div class="history-list">
                            <div class="history-item">
                                <div class="history-icon safe">
                                    <i class="fas fa-check-circle"></i>
                                </div>
                                <div class="history-info">
                                    <h4>Organic Whole Milk</h4>
                                    <p>Scanned on Oct 30, 2025 • Safe</p>
                                </div>
                                <div class="history-score">
                                    <span class="score-badge good">85</span>
                                </div>
                                <button class="btn-icon">
                                    <i class="fas fa-chevron-right"></i>
                                </button>
                            </div>

                            <div class="history-item">
                                <div class="history-icon warning">
                                    <i class="fas fa-exclamation-triangle"></i>
                                </div>
                                <div class="history-info">
                                    <h4>Peanut Butter Cookies</h4>
                                    <p>Scanned on Oct 29, 2025 • Contains allergens</p>
                                </div>
                                <div class="history-score">
                                    <span class="score-badge warning">62</span>
                                </div>
                                <button class="btn-icon">
                                    <i class="fas fa-chevron-right"></i>
                                </button>
                            </div>

                            <div class="history-item">
                                <div class="history-icon safe">
                                    <i class="fas fa-check-circle"></i>
                                </div>
                                <div class="history-info">
                                    <h4>Gluten-Free Bread</h4>
                                    <p>Scanned on Oct 28, 2025 • Safe</p>
                                </div>
                                <div class="history-score">
                                    <span class="score-badge excellent">92</span>
                                </div>
                                <button class="btn-icon">
                                    <i class="fas fa-chevron-right"></i>
                                </button>
                            </div>

                            <div class="history-item">
                                <div class="history-icon safe">
                                    <i class="fas fa-check-circle"></i>
                                </div>
                                <div class="history-info">
                                    <h4>Almond Milk</h4>
                                    <p>Scanned on Oct 27, 2025 • Safe</p>
                                </div>
                                <div class="history-score">
                                    <span class="score-badge good">88</span>
                                </div>
                                <button class="btn-icon">
                                    <i class="fas fa-chevron-right"></i>
                                </button>
                            </div>
                        </div>
                    </section>

                    <!-- Saved Products Section -->
                    <section class="profile-section" id="saved-section">
                        <div class="section-header-with-actions">
                            <div>
                                <h2>Saved Products</h2>
                                <p>Your collection of safe products</p>
                            </div>
                            <button class="btn-outline">
                                <i class="fas fa-share-alt"></i>
                                Share List
                            </button>
                        </div>

                        <div class="saved-grid">
                            <div class="product-card">
                                <div class="product-card-image">
                                    <i class="fas fa-box"></i>
                                </div>
                                <div class="product-card-info">
                                    <h4>Organic Oat Milk</h4>
                                    <p>Dairy Alternative</p>
                                    <div class="product-card-meta">
                                        <span class="badge-success">Safe</span>
                                        <span class="score">94</span>
                                    </div>
                                </div>
                                <button class="product-card-action">
                                    <i class="fas fa-bookmark-slash"></i>
                                </button>
                            </div>

                            <div class="product-card">
                                <div class="product-card-image">
                                    <i class="fas fa-box"></i>
                                </div>
                                <div class="product-card-info">
                                    <h4>Rice Crackers</h4>
                                    <p>Snacks</p>
                                    <div class="product-card-meta">
                                        <span class="badge-success">Safe</span>
                                        <span class="score">87</span>
                                    </div>
                                </div>
                                <button class="product-card-action">
                                    <i class="fas fa-bookmark-slash"></i>
                                </button>
                            </div>

                            <div class="product-card">
                                <div class="product-card-image">
                                    <i class="fas fa-box"></i>
                                </div>
                                <div class="product-card-info">
                                    <h4>Quinoa Pasta</h4>
                                    <p>Pasta & Grains</p>
                                    <div class="product-card-meta">
                                        <span class="badge-success">Safe</span>
                                        <span class="score">91</span>
                                    </div>
                                </div>
                                <button class="product-card-action">
                                    <i class="fas fa-bookmark-slash"></i>
                                </button>
                            </div>
                        </div>
                    </section>

                    <!-- Settings Section -->
                    <section class="profile-section" id="settings-section">
                        <h2>Settings</h2>
                        <p>Manage your account and preferences</p>

                        <div class="settings-group">
                            <h3>Notifications</h3>
                            <div class="setting-item">
                                <div class="setting-info">
                                    <h4>Allergen Alerts</h4>
                                    <p>Get notified when scanning products with allergens</p>
                                </div>
                                <label class="toggle">
                                    <input type="checkbox" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>

                            <div class="setting-item">
                                <div class="setting-info">
                                    <h4>New Recommendations</h4>
                                    <p>Receive alerts for better alternatives</p>
                                </div>
                                <label class="toggle">
                                    <input type="checkbox" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>

                            <div class="setting-item">
                                <div class="setting-info">
                                    <h4>Weekly Summary</h4>
                                    <p>Get weekly reports of your scanning activity</p>
                                </div>
                                <label class="toggle">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>

                        <div class="settings-group">
                            <h3>Privacy</h3>
                            <div class="setting-item">
                                <div class="setting-info">
                                    <h4>Share Scan History</h4>
                                    <p>Allow anonymous data for improving recommendations</p>
                                </div>
                                <label class="toggle">
                                    <input type="checkbox" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>

                            <div class="setting-item">
                                <div class="setting-info">
                                    <h4>Public Profile</h4>
                                    <p>Make your profile visible to other users</p>
                                </div>
                                <label class="toggle">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>

                        <div class="settings-actions">
                            <button class="btn-primary">Save Settings</button>
                            <button class="btn-outline danger">Delete Account</button>
                        </div>
                    </section>
                </div>
            </div>
        </div>
    </main>

    <!-- Scripts -->
    <script src="app-script.js"></script>
    <script src="profile-script.js"></script>
    <script src="enhanced-animations.js"></script>
    
    <!-- Debug Script -->
    <script>
        // Additional inline debug to verify DOM is ready
        console.log('🔍 Inline debug script running...');
        console.log('Navigation items:', document.querySelectorAll('.profile-nav-item').length);
        console.log('Sections:', document.querySelectorAll('.profile-section').length);
        
        // Test direct click handler
        document.querySelectorAll('.profile-nav-item').forEach((btn, i) => {
            console.log(`Nav button ${i}:`, btn.getAttribute('data-section'));
        });
    </script>
</body>
</html>
